# ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬

> [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”©í…ŒìŠ¤íŠ¸ ì—°ìŠµ > í™(Heap) > ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬](https://programmers.co.kr/learn/courses/30/lessons/42627)
> ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges

- Level2
- í™ (ì¶œì œ ë¹ˆë„: ë³´í†µ, í‰ê·  ì ìˆ˜:Â ë†’ìŒ)

## í•´ê²° ê³¼ì •  ğŸ‘

1. SJF (Shortest Job First) ë¥¼ ìˆ˜í–‰í•˜ëŠ” priority queueì™€ jobs ë°°ì—´ì„ <ì‘ì—… ìš”ì²­ ì‹œì , ì‘ì—… ì†Œìš” ì‹œê°„> ì‘ì—… ìš”ì²­ ì‹œì  ìˆœìœ¼ë¡œ ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“ ë‹¤.
2. pqì— ì‘ì—…ì„ ë„£ì–´ ì™„ë£Œí•œ ê°œìˆ˜(count)ê°€ jobsì˜ ê°œìˆ˜ì™€ ê°™ì•„ì§ˆ ë•Œê¹Œì§€ while ë¬¸ì„ ëŒë©´ì„œ
3. í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì‘ì—… ìš”ì²­ ì‹œì ì´ ê°™ê±°ë‚˜ ë¹ ë¥¸ jobì„ pqì— ë„£ëŠ”ë‹¤.
4. pqê°€ ë¹„ì—ˆë‹¤ë©´ í˜„ì¬ ì‹œê°„ì„ +1 í•˜ê³ , ì•„ë‹ˆë¼ë©´ í˜„ì¬ ì‹œê°„ì€ + ì²˜ë¦¬í•œ ì‘ì—…ì˜ ì†Œìš”ì‹œê°„, ì „ì²´ì†Œìš”ì‹œê°„ì€ + (í˜„ì¬ì‹œê°„ - ì‘ì—… ìš”ì²­ì‹œì ) ì„ í•œë‹¤.
5. ì „ì²´ì†Œìš”ì‹œê°„ / ì‘ì—…ì˜ ê°œìˆ˜ ë¥¼ ë°˜í™˜í•œë‹¤.

## ì½”ë“œ 1

```kotlin
import java.util.*
fun solution(jobs: Array<IntArray>): Int {
    var total = 0
    val pq = PriorityQueue<Pair<Int, Int>> { job1, job2 -> job1.second - job2.second } // SJF
    val lst = jobs.map { Pair(it[0], it[1]) }.sortedBy { it.first }.toMutableList()

    var count = 0
    var time = lst.first().first
    while(count < jobs.size) {
        while(lst.isNotEmpty() && lst.first().first <= time) {
            pq.offer(lst.removeAt(0))
        }
        if(pq.isNotEmpty()) {
            pq.poll()!!.run {
                time += second
                total += time - first
                count += 1
            }
        } else {
            time += 1
        }
    }
    return total / jobs.count()
}
```

## ë°°ìš´ ì 

- SJF ìš°ì„ ìˆœìœ„ í : `PriorityQueue<Pair<Int, Int>> { o1, o2 -> o1.second - o2.second }` ğŸ‘

- lst.first().first <= time ì—ì„œ ì²˜ìŒì— < ë¥¼ ë„£ì–´ì„œ í•œì°¸ ê³ ë¯¼í–ˆë‹¤. ì¡°ê±´ì‹ì„ ë„£ì„ ë•Œ = ì´ í¬í•¨ë˜ì–´ì•¼ í•˜ì§€ëŠ” ì•ŠëŠ”ì§€ ìƒê°í•´ë³´ì.

- CompareTo ì—¬ëŸ¬ê°€ì§€ ë°©ì‹ì´ë¼ì„œ í—·ê°ˆë¦¬ë„¤ìš”;; ì´ ì½”ë“œê°€ ì´í•´ê°€ ì•ˆë¼ì„œ CompareTo ì½”ë“œ ë³´ê³  ì´í•´ í–ˆìŠµë‹ˆë‹¤.^^;; o1.second - o2.second
```kotlin

default Priority Queue
PriorityQueue<Pair<Int, Int>> { o1, o2 -> o1.second - o2.second } == PriorityQueue<Pair<Int, Int>> { o1, o2 ->  o1.compareTo(o2) } 
== PriorityQueue<Pair<Int, Int>>(compareBy { it.second })

Highest Priority Queue
PriorityQueue<Pair<Int, Int>> { o1, o2 -> o2.second - o1.second } == PriorityQueue<Pair<Int, Int>> { o1, o2 ->  o2.compareToo1o2) } 

```
