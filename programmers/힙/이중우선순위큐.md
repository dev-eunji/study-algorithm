# ì´ì¤‘ìš°ì„ ìˆœìœ„í

> [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”©í…ŒìŠ¤íŠ¸ ì—°ìŠµ > í™(Heap) > ì´ì¤‘ìš°ì„ ìˆœìœ„í](https://programmers.co.kr/learn/courses/30/lessons/42628)
> ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges

- Level3
- í™ (ì¶œì œ ë¹ˆë„: ë³´í†µ, í‰ê·  ì ìˆ˜:Â ë†’ìŒ)

## í•´ê²° ê³¼ì •

1. priority queue (min, max) ë§Œë“ ë‹¤.
2. operations I ê°’ íì— ì£¼ì–´ì§„ ìˆ«ìë¥¼ ì‚½ì… í•  ê²½ìš° min, max queueì— ê°™ì´ ë„£ì–´ ì¤€ë‹¤.
3. operations D 1, -1 ê°’ì— ë”°ë¼ ì‚­ì œ ì‹œ ë™ì‹œ ì‚­ì œ í•œë‹¤.
4. ê·¸ëŸ¬ë©´ ì •ë ¬ ìš°ì„  ìˆœìœ„ì— ë”°ë¼ ì²«ë²ˆì§¸ëŠ” min, maxë§Œ ë‚¨ëŠ”ë‹¤.
   -> `minHeap.remove(maxHeap.poll())`, `maxHeap.remove(minHeap.poll())`

## ì½”ë“œ 1

```kotlin
import java.util.*
fun solution(operations: Array<String>): IntArray {
    var answer = intArrayOf(0, 0)
    val minHeap = PriorityQueue<Int>()
    val maxHeap = PriorityQueue<Int>(Collections.reverseOrder())
//        val maxHeap = PriorityQueue<Int>(compareByDescending{it})

    operations.forEach {
        val operator = it.split(" ")
        when(operator[0]) {
            "I" -> {
                minHeap.offer(operator[1].toInt())
                maxHeap.offer(operator[1].toInt())
            }
            "D" -> {
                if (minHeap.isEmpty().not() || maxHeap.isEmpty().not()) {
                    when(operator[1]) {
                        "1" -> {
                            minHeap.remove(maxHeap.poll())
                        }
                        "-1" -> {
                            maxHeap.remove(minHeap.poll())
                        } else -> {
                            // 1. minHeap.isEmpty(), 2. 1 or -1 is not
                        }
                    }
                }
            }
        }
    }

    if(minHeap.isEmpty().not() && maxHeap.isEmpty().not()) {
        answer[0] = maxHeap.poll()
        answer[1] = minHeap.poll()
    }
    return answer
}
```

## ì½”ë“œ 2: eunji

```kotlin
import java.util.*
fun solution(operations: Array<String>): IntArray {
    val queue: PriorityQueue<Int> = PriorityQueue()
    operations.forEach { operation ->
        val input = operation.split(" ")
        val op = input[0]
        val num = input[1].toInt()
        when (op) {
            "I" -> queue.add(num)
            "D" -> {
                queue.removeIf {
                    if (num == 1) it == queue.max() else it == queue.min()
                }
            }
        }
    }
    return intArrayOf(queue.max() ?: 0, queue.min() ?: 0)
}
```

## ë°°ìš´ ì 

- PriorityQueue<Int>() ê¸°ë³¸ ê°’ ì •ë ¬ì€ ì˜¤ë¦„ì°¨ìˆœì´ë‹¤.
- ìµœëŒ€ê°’ ìš°ì„  ìˆœìœ„ í `PriorityQueue<Int>(Collections.reverseOrder())` ğŸ‘ or `PriorityQueue<Int>(compareByDescending{it})`

- `PriorityQueue<E>`

  - `add(element: E)`, `offer(e: E)`

    ```kotlin
    public boolean add(E e) {
        return offer(e);
    }
    ```

  - `peek()`: head ê°’ ë°˜í™˜ (ì‚­ì œX), ì‚¬ì´ì¦ˆê°€ 0 ì´ë©´ null ë°˜í™˜
  - `poll()`: head ê°’ ë°˜í™˜ ë° ì‚­ì œ, ì‚¬ì´ì¦ˆê°€ 0 ì´ë©´ null ë°˜í™˜

  - `element()`: head ê°’ ë°˜í™˜ (ì‚­ì œX) ì‚¬ì´ì¦ˆê°€ 0 ì´ë©´ NoSuchElementException
  - `remove()`: head ê°’ ë°˜í™˜ ë° ì‚­ì œ, ì‚¬ì´ì¦ˆê°€ 0 ì´ë©´ NoSuchElementException

- ì–€ê´€ë¬¸ì œ : www.acmicpc.net/problem/7662
