# 괄호 변환

> [프로그래머스 코딩테스트 연습 > 2020 KAKAO BLIND RECRUITMENT > 괄호 변환](https://programmers.co.kr/learn/courses/30/lessons/60058)
> 출처: 프로그래머스 코딩 테스트 연습, https://programmers.co.kr/learn/challenges

- Level 2
## 해결 과정

1. (핵심) 전화 키패드를 알맞게 저장한다 : Pair(숫자, Pair(위치x, 위치 y))
2. 왼손만 누를 수 있는 1,4,7과 오른손만 누를 수 있는 3,6,9, 은 각각 현재 왼손/오른손 위치를 저장하고, 결과에 어느 손을 사용했는지 이어 붙인다.
3. 양손을 다 사용할 수 있을 때는 왼손/오른손과 이동해야 하는 키패드 사이의 `가로차이 + 세로차이` 를 구해서 더 작은쪽을 사용하고, 같을 때는 어느 손 잡이인지를 체크한다.

## 코드 1

```kotlin
import java.util.*
fun solution(p: String): String {
    return function(p)
}
      
private fun function(p: String): String {
    if (p.isEmpty()) return ""
    var str = ""
    val idx = divide(p)
    val u = p.substring(0, idx+1)
    val v = p.substring(idx+1, p.length)
    if (check(u)) {
        str += u
        str += function(v)
    } else {
        var temp = "(" + function(v) + ")"
        val sb = StringBuilder()
        u.substring(1, u.length - 1).forEach { c ->
            if (c == '(') sb.append(')')
            else sb.append('(')
        }
        temp += sb.toString()
        str += temp
    }
    return str
}

private fun check(s: String): Boolean {
    val stack = Stack<Char>()
    s.forEach { c ->
        if (c == '(') {
            stack.push(c)
        } else {
            if (stack.empty()) {
                return false
            } else {
                stack.pop()
            }
        }
    }
    return true
}

private fun divide(s: String): Int {
    var op = 0
    var cl = 0
    var index = 0
    s.forEachIndexed { i, c ->
        if (c == '(') op += 1 else cl += 1
        index = i
        if (op == cl) {
            return index
        }
    }
    return index
}
```

## 배운 점

- 기본적인 문법인데, 잊지 않기 위해 적어둡니다. `return@ForEach`는 `break`가 아니라 `continue`처럼 동작한다.
```kotlin
println(a("ABC"))   //  2   : forEachIndexed문을 끝까지 돌고 나옴
println(b("ABC"))   //  1   : 'B'를 만났을 때 index를 바로 return

 private fun a(s: String) : Int {
    var index = 0
    s.forEachIndexed { i, c ->
        index = i
        if (c == 'B') return@forEachIndexed
    }
    return index
}
    
private fun b(s: String) : Int {
    var index = 0
    s.forEachIndexed { i, c ->
        index = i
        if (c == 'B') return index

    }
    return index
}
```

- 독해가 어려웠던 문제...