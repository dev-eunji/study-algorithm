# ìˆœìœ„

> [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”©í…ŒìŠ¤íŠ¸ ì—°ìŠµ > ê·¸ë˜í”„ > ìˆœìœ„](https://programmers.co.kr/learn/courses/30/lessons/49191)
> ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges

- Level3
- ì •ë ¬ (ì¶œì œ ë¹ˆë„: ë‚®ìŒ, í‰ê·  ì ìˆ˜: ë‚®ìŒ)

## í•´ê²° ê³¼ì •

- í”Œë¡œì´ë“œ-ì›Œì…œ ì•Œê³ ë¦¬ì¦˜(Floyd-Warshall Algorithm)ìœ¼ë¡œ í’€ì–´ì•¼ í•œë‹¤.
  (https://wpioneer.tistory.com/146)
- ê·¸ë¦¬ê³  3ì¤‘ forë¬¸ìœ¼ë¡œ ëª¨ë“  ë…¸ë“œë¥¼ ìˆœíšŒí•˜ë©°

  1. iê°€ jë‘ ìŠ¹ë¶€ë¥¼ í–ˆëŠ”ë° ê²°ê³¼ë¥¼ ëª¨ë¥¼ë•Œ (0ì¼ë•Œ)ë§Œ
  2. iê°€ kë¥¼ ì´ê¸°ê³  kê°€ jë¥¼ ì´ê¸°ë©´ iê°€ jë¥¼ ì´ê¸´ê²ƒ(1ë¡œ í‘œì‹œ)ìœ¼ë¡œ í•˜ê³ 
  3. iê°€ kí•œí…Œ ì§€ê³  kê°€ jí•œí…Œ ì¡Œìœ¼ë©´ iê°€ jí•œí…Œ ì§„ê²ƒ(-1ë¡œ í‘œì‹œ)ìœ¼ë¡œ ê°±ì‹ í•´ì¤€ë‹¤

- ì½”ë“œ2 ì„¤ëª…
  - ií•œí…Œ ì´ê¸´ ì„ ìˆ˜ë“¤ì€(`win[i]`), ií•œí…Œ ì§„ ì„ ìˆ˜ë“¤í•œí…Œë„ ì´ê¸´ë‹¤.
  - ií•œí…Œ ì§„ ì„ ìˆ˜ë“¤ì€(`lose[i]`), ií•œí…Œ ì´ê¸´ ì„ ìˆ˜ë“¤í•œí…Œë„ ì§„ë‹¤.
  - lose[i].size ì™€ win[i].size ì˜ í•©ì´ n-1 ì¸ ê²½ìš° answer+1 í•œë‹¤.

```code
for k in range(n):
	for i in range(n):
    	for i in range(n):
        	if arr[i][j] > arr[i][k] + arr[k][j]: # ì›ë˜ i->j ê°€ i->j->k ë³´ë‹¤ ê¸¸ë©´
            	arr[i][j] = arr[i][k] + arr[k][j] # ê°±ì‹ 
```

![image](https://user-images.githubusercontent.com/8637598/134275715-8b22b89a-9838-4e6a-9142-34536df1b794.png)

## ì½”ë“œ 1

```kotlin
fun solution(n: Int, results: Array<IntArray>): Int {
    var answer = 0
    val winLose = Array(n + 1) { IntArray(n + 1) }
    results.forEach {
        winLose[it[0]][it[1]] = 1 // win
        winLose[it[1]][it[0]] = -1 // lose
    }
    floyd(n, winLose)
    answer = canKnowRankCount(n, winLose)
    println(answer)
    return answer
}

private fun floyd(peopleNumber: Int, winLose: Array<IntArray>) {
    for (i in 1..peopleNumber) {
        for (j in 1..peopleNumber) {
            for (k in 1..peopleNumber) {
                // jê°€ ië¥¼ ì´ê¸°ê³ , iê°€ kë¥¼ ì´ê¸°ë©´ iê°€ kë¥¼ ì´ê¸´
                if (winLose[j][i] == winLose[i][k] && winLose[j][i] != 0) { //ì„œë¡œ ë¹„êµí•  ìˆ˜ ìˆëŠ” ê²½ìš°
                    winLose[j][k] = winLose[j][i] // j>i>k OR j<i<k ì´ë¯€ë¡œ j,i ì˜ ëŒ€ì†Œê´€ê³„ë„ ì•Œ ìˆ˜ ìˆê²Œëœë‹¤.
                }
            }
        }
    }
}

private fun canKnowRankCount(peopleNumber: Int, winLose: Array<IntArray>) : Int {
    var knowRankCount = 0
    for (i in 1.. peopleNumber) {
        var total = 0
        for (j in 1.. peopleNumber) {
            // í•´ë‹¹ ì„ ìˆ˜ê°€ íƒ€ ì„ ìˆ˜ì™€ì˜ ìŠ¹íŒ¨ë¥¼ ì•„ëŠ” ê²½ìš° (ë§Œì•½ iê°€ jí•œí…Œ ì¡Œê±°ë‚˜ ì´ê²¼ë‹¤ë©´)
            if ((winLose[i][j] != 0 || winLose[j][i] != 0) && i != j) {
                total++
            }
        }
        // ìì‹ ì„ ì œì™¸í•œ íƒ€ì„ ìˆ˜ì™€ì˜ ìŠ¹íŒ¨ê²°ê³¼ë¥¼ ëª¨ë‘ ì•„ëŠ” ê²½ìš° ìˆœìœ„í™•ì • + 1
        if (total == peopleNumber - 1) {
            knowRankCount++
        }
    }
    return knowRankCount
}
```

## ì½”ë“œ 2: eunji

```kotlin
 fun solution(n: Int, results: Array<IntArray>): Int {
    var answer = 0
    val win = Array(n+1) { mutableSetOf<Int>() }
    val lose = Array(n+1) { mutableSetOf<Int>() }
    results.forEach {
        win[it[1]].add(it[0])
        lose[it[0]].add(it[1])
    }
    for(i in 1..n) {
        for(winner in win[i]) {
            lose[i].forEach {
                lose[winner].add(it)
            }
        }
        for(loser in lose[i]) {
            win[i].forEach {
                win[loser].add(it)
            }
        }
    }
    for(i in 1..n) {
        if(lose[i].size + win[i].size == n-1) answer += 1
    }
    return answer
}
```

## ë°°ìš´ ì 

- ê·¸ë˜í”„ íƒìƒ‰ì€ DFS, BFSë§Œ ìƒê°í–ˆëŠ”ë° ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ ë°°ì› ë‹¤.
- í”Œë¡œì´ë“œ-ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ì´ë€? ğŸ‘
  `ëª¨ë“  ê²½ë¡œì—ì„œì˜ ìµœë‹¨ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜`
  2ì°¨ì› í…Œì´ë¸”ì—ì„œ 3ì¤‘ forë¬¸ì„ ëŒë©° k ë¥¼ ê±°ì³¤ì„ë•Œì™€ ì•ˆ ê±°ì³¤ì„ë•Œì˜ ê°€ì¤‘ì¹˜ë¥¼ ë¹„êµì— ë” ì§§ì€ ê±°ë¦¬ë¥¼ ê³„ì† ê°±ì‹ í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤

```code
for k in range(n):
	for i in range(n):
    	for i in range(n):
        	if arr[i][j] > arr[i][k] + arr[k][j]: # ì›ë˜ i->j ê°€ i->j->k ë³´ë‹¤ ê¸¸ë©´
            	arr[i][j] = arr[i][k] + arr[k][j] # ê°±ì‹ 
```

- ií•œí…Œ ì´ê¸´ì„ ìˆ˜/ië¥¼ ì´ê¸´ ì„ ìˆ˜ ë“± í•œêµ­ë§ë¡œ ë°”ê¾¸ëŠ” ê³¼ì •ì—ì„œ í—·ê°ˆë ¤ì„œ ìƒê°ë³´ë‹¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ë° ì˜¤ë˜ ê±¸ë ¸ë‹¤.
  win, loseë™ì¼í•˜ê²Œ '~í•œí…Œ'ë¡œ í†µì¼í•˜ê³  ë‚œ í›„ì— í—·ê°ˆë¦¼ì„ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.
  ```kotlin
    win[i]: ií•œí…Œ ì´ê¸´ ì„ ìˆ˜ë“¤ì˜ set
    lose[i]: ií•œí…Œ ì§„ ì„ ìˆ˜ë“¤ì˜ set
  ```
- ì°¸ê³  ë¬¸ì œ: [ë°±ì¤€-10159](https://www.acmicpc.net/problem/10159)

## ì§ˆë¬¸

ìœ„ì— í•´ê²°ê³¼ì • ì½”ë“œ ì§ˆë¬¸ë“œë¦½ë‹ˆë‹¹~ (i, j, k)

```code
for k in range(n):
	for i in range(n):
    	for i in range(n):
        	if arr[i][j] > arr[i][k] + arr[k][j]: # ì›ë˜ i->j ê°€ i->j->k ë³´ë‹¤ ê¸¸ë©´
            	arr[i][j] = arr[i][k] + arr[k][j] # ê°±ì‹ 
```
